"use strict";var resvg=(()=>{var B=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var U=Object.getOwnPropertyNames;var T=Object.prototype.hasOwnProperty;var C=(e,t)=>{for(var n in t)B(e,n,{get:t[n],enumerable:!0})},F=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of U(t))!T.call(e,i)&&i!==n&&B(e,i,{get:()=>t[i],enumerable:!(o=M(t,i))||o.enumerable});return e};var L=e=>F(B({},"__esModule",{value:!0}),e);var K={};C(K,{Resvg:()=>$,initWasm:()=>V});var r,b=new Array(128).fill(void 0);b.push(void 0,null,!0,!1);var l=b.length;function c(e){l===b.length&&b.push(b.length+1);let t=l;return l=b[t],b[t]=e,t}function a(e){return b[e]}function z(e){e<132||(b[e]=l,l=e)}function g(e){let t=a(e);return z(e),t}var y=0,d=null;function v(){return(d===null||d.byteLength===0)&&(d=new Uint8Array(r.memory.buffer)),d}var x=new TextEncoder("utf-8"),P=typeof x.encodeInto=="function"?function(e,t){return x.encodeInto(e,t)}:function(e,t){let n=x.encode(e);return t.set(n),{read:e.length,written:n.length}};function I(e,t,n){if(n===void 0){let f=x.encode(e),w=t(f.length);return v().subarray(w,w+f.length).set(f),y=f.length,w}let o=e.length,i=t(o),u=v(),_=0;for(;_<o;_++){let f=e.charCodeAt(_);if(f>127)break;u[i+_]=f}if(_!==o){_!==0&&(e=e.slice(_)),i=n(i,o,o=_+e.length*3);let f=v().subarray(i+_,i+o),w=P(e,f);_+=w.written}return y=_,i}function W(e){return e==null}var p=null;function s(){return(p===null||p.byteLength===0)&&(p=new Int32Array(r.memory.buffer)),p}var S=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});S.decode();function O(e,t){return S.decode(v().subarray(e,e+t))}function N(e,t){if(!(e instanceof t))throw new Error(`expected instance of ${t.name}`);return e.ptr}function q(e,t){try{return e.apply(this,t)}catch(n){r.__wbindgen_exn_store(c(n))}}var h=class e{static __wrap(t){let n=Object.create(e.prototype);return n.ptr=t,n}__destroy_into_raw(){let t=this.ptr;return this.ptr=0,t}free(){let t=this.__destroy_into_raw();r.__wbg_bbox_free(t)}get x(){return r.__wbg_get_bbox_x(this.ptr)}set x(t){r.__wbg_set_bbox_x(this.ptr,t)}get y(){return r.__wbg_get_bbox_y(this.ptr)}set y(t){r.__wbg_set_bbox_y(this.ptr,t)}get width(){return r.__wbg_get_bbox_width(this.ptr)}set width(t){r.__wbg_set_bbox_width(this.ptr,t)}get height(){return r.__wbg_get_bbox_height(this.ptr)}set height(t){r.__wbg_set_bbox_height(this.ptr,t)}},k=class e{static __wrap(t){let n=Object.create(e.prototype);return n.ptr=t,n}__destroy_into_raw(){let t=this.ptr;return this.ptr=0,t}free(){let t=this.__destroy_into_raw();r.__wbg_renderedimage_free(t)}get width(){return r.renderedimage_width(this.ptr)>>>0}get height(){return r.renderedimage_height(this.ptr)>>>0}asPng(){try{let i=r.__wbindgen_add_to_stack_pointer(-16);r.renderedimage_asPng(i,this.ptr);var t=s()[i/4+0],n=s()[i/4+1],o=s()[i/4+2];if(o)throw g(n);return g(t)}finally{r.__wbindgen_add_to_stack_pointer(16)}}get pixels(){let t=r.renderedimage_pixels(this.ptr);return g(t)}},A=class e{static __wrap(t){let n=Object.create(e.prototype);return n.ptr=t,n}__destroy_into_raw(){let t=this.ptr;return this.ptr=0,t}free(){let t=this.__destroy_into_raw();r.__wbg_resvg_free(t)}constructor(t,n,o){try{let m=r.__wbindgen_add_to_stack_pointer(-16);var i=W(n)?0:I(n,r.__wbindgen_malloc,r.__wbindgen_realloc),u=y;r.resvg_new(m,c(t),i,u,W(o)?0:c(o));var _=s()[m/4+0],f=s()[m/4+1],w=s()[m/4+2];if(w)throw g(f);return e.__wrap(_)}finally{r.__wbindgen_add_to_stack_pointer(16)}}get width(){return r.resvg_width(this.ptr)}get height(){return r.resvg_height(this.ptr)}render(){try{let i=r.__wbindgen_add_to_stack_pointer(-16);r.resvg_render(i,this.ptr);var t=s()[i/4+0],n=s()[i/4+1],o=s()[i/4+2];if(o)throw g(n);return k.__wrap(t)}finally{r.__wbindgen_add_to_stack_pointer(16)}}toString(){try{let o=r.__wbindgen_add_to_stack_pointer(-16);r.resvg_toString(o,this.ptr);var t=s()[o/4+0],n=s()[o/4+1];return O(t,n)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,n)}}innerBBox(){let t=r.resvg_innerBBox(this.ptr);return t===0?void 0:h.__wrap(t)}getBBox(){let t=r.resvg_getBBox(this.ptr);return t===0?void 0:h.__wrap(t)}cropByBBox(t){N(t,h),r.resvg_cropByBBox(this.ptr,t.ptr)}imagesToResolve(){try{let i=r.__wbindgen_add_to_stack_pointer(-16);r.resvg_imagesToResolve(i,this.ptr);var t=s()[i/4+0],n=s()[i/4+1],o=s()[i/4+2];if(o)throw g(n);return g(t)}finally{r.__wbindgen_add_to_stack_pointer(16)}}resolveImage(t,n){try{let u=r.__wbindgen_add_to_stack_pointer(-16),_=I(t,r.__wbindgen_malloc,r.__wbindgen_realloc),f=y;r.resvg_resolveImage(u,this.ptr,_,f,c(n));var o=s()[u/4+0],i=s()[u/4+1];if(i)throw g(o)}finally{r.__wbindgen_add_to_stack_pointer(16)}}};async function D(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(o){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",o);else throw o}let n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{let n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function J(){let e={};return e.wbg={},e.wbg.__wbg_new_15d3966e9981a196=function(t,n){let o=new Error(O(t,n));return c(o)},e.wbg.__wbindgen_memory=function(){let t=r.memory;return c(t)},e.wbg.__wbg_buffer_cf65c07de34b9a08=function(t){let n=a(t).buffer;return c(n)},e.wbg.__wbg_newwithbyteoffsetandlength_9fb2f11355ecadf5=function(t,n,o){let i=new Uint8Array(a(t),n>>>0,o>>>0);return c(i)},e.wbg.__wbindgen_object_drop_ref=function(t){g(t)},e.wbg.__wbg_new_537b7341ce90bb31=function(t){let n=new Uint8Array(a(t));return c(n)},e.wbg.__wbg_values_97683218f24ed826=function(t){let n=a(t).values();return c(n)},e.wbg.__wbg_next_88560ec06a094dea=function(){return q(function(t){let n=a(t).next();return c(n)},arguments)},e.wbg.__wbg_done_1ebec03bbd919843=function(t){return a(t).done},e.wbg.__wbg_value_6ac8da5cc5b3efda=function(t){let n=a(t).value;return c(n)},e.wbg.__wbg_instanceof_Uint8Array_01cebe79ca606cca=function(t){let n;try{n=a(t)instanceof Uint8Array}catch{n=!1}return n},e.wbg.__wbindgen_string_get=function(t,n){let o=a(n),i=typeof o=="string"?o:void 0;var u=W(i)?0:I(i,r.__wbindgen_malloc,r.__wbindgen_realloc),_=y;s()[t/4+1]=_,s()[t/4+0]=u},e.wbg.__wbg_new_b525de17f44a8943=function(){let t=new Array;return c(t)},e.wbg.__wbindgen_string_new=function(t,n){let o=O(t,n);return c(o)},e.wbg.__wbg_push_49c286f04dd3bf59=function(t,n){return a(t).push(a(n))},e.wbg.__wbg_length_27a2afe8ab42b09f=function(t){return a(t).length},e.wbg.__wbg_set_17499e8aa4003ebd=function(t,n,o){a(t).set(a(n),o>>>0)},e.wbg.__wbindgen_throw=function(t,n){throw new Error(O(t,n))},e}function H(e,t){return r=e.exports,j.__wbindgen_wasm_module=t,p=null,d=null,r}async function j(e){typeof e>"u"&&(e=new URL("index_bg.wasm",void 0));let t=J();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));let{instance:n,module:o}=await D(await e,t);return H(n,o)}var E=j;var R=!1,V=async e=>{if(R)throw new Error("Already initialized. The `initWasm()` function can be used only once.");await E(await e),R=!0},$=class extends A{constructor(e,t){if(!R)throw new Error("Wasm has not been initialized. Call `initWasm()` function.");let n=t?.font;if(n&&G(n)){let o={...t,font:{...n,fontBuffers:void 0}};super(e,JSON.stringify(o),n.fontBuffers)}else super(e,JSON.stringify(t))}};function G(e){return Object.prototype.hasOwnProperty.call(e,"fontBuffers")}return L(K);})();
